{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _reactIntersectionObserver = _interopRequireDefault(require(\"@researchgate/react-intersection-observer\"));\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nfunction _getRequireWildcardCache() {\n  if (typeof WeakMap !== \"function\") return null;\n  var cache = new WeakMap();\n\n  _getRequireWildcardCache = function _getRequireWildcardCache() {\n    return cache;\n  };\n\n  return cache;\n}\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  }\n\n  if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") {\n    return {\n      \"default\": obj\n    };\n  }\n\n  var cache = _getRequireWildcardCache();\n\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n\n  for (var key in obj) {\n    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n\n  newObj[\"default\"] = obj;\n\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n\n  return newObj;\n}\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar hasWindow = function hasWindow() {\n  return typeof window !== 'undefined';\n};\n\nvar ProgressiveImage = /*#__PURE__*/function (_React$Component) {\n  _inherits(ProgressiveImage, _React$Component);\n\n  function ProgressiveImage(props) {\n    var _this;\n\n    _classCallCheck(this, ProgressiveImage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProgressiveImage).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"image\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnlineStatus\", function () {\n      _this.setState({\n        isOnline: window.navigator.onLine\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loadImage\", function (src, srcSetData) {\n      // If there is already an image we nullify the onload\n      // and onerror props so it does not incorrectly set state\n      // when it resolves\n      if (_this.image) {\n        _this.image.onload = null;\n        _this.image.onerror = null;\n      }\n\n      var image = new Image();\n      _this.image = image;\n      image.onload = _this.onLoad;\n\n      image.onerror = function () {\n        _this.onError;\n        return; // this.handleImageRetries(image);\n      };\n\n      image.src = src;\n\n      if (srcSetData) {\n        image.srcset = srcSetData.srcSet;\n        image.sizes = srcSetData.sizes;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoad\", function () {\n      // use this.image.src instead of this.props.src to\n      // avoid the possibility of props being updated and the\n      // new image loading before the new props are available as\n      // this.props.\n      if (_this.props.delay) {\n        _this.setImageWithDelay();\n      } else {\n        _this.setImage();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setImageWithDelay\", function () {\n      setTimeout(function () {\n        _this.setImage();\n      }, _this.props.delay);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setImage\", function () {\n      if (_this._isMounted) {\n        _this.setState({\n          image: _this.image.src,\n          loading: false,\n          srcSetData: {\n            srcSet: _this.image.srcset || '',\n            sizes: _this.image.sizes || ''\n          }\n        }, function () {\n          window.removeEventListener('online', _this.handleOnlineStatus);\n          window.removeEventListener('offline', _this.handleOnlineStatus);\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onError\", function (errorEvent) {\n      var onError = _this.props.onError;\n\n      if (onError) {\n        onError(errorEvent);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleIntersection\", function (event, unobserve, isOnline) {\n      if (event.isIntersecting) {\n        var _this$props = _this.props,\n            src = _this$props.src,\n            srcSetData = _this$props.srcSetData;\n\n        if (isOnline) {\n          _this.loadImage(src, srcSetData);\n\n          unobserve();\n        }\n      }\n    });\n\n    _this._isMounted = false;\n    _this.state = {\n      isOnline: hasWindow() ? window.navigator.onLine : true,\n      image: props.placeholder,\n      loading: true,\n      srcSetData: {\n        srcSet: '',\n        sizes: ''\n      }\n    };\n    return _this;\n  }\n\n  _createClass(ProgressiveImage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._isMounted = true;\n\n      if (!hasWindow()) {\n        return;\n      }\n\n      window.addEventListener('online', this.handleOnlineStatus);\n      window.addEventListener('offline', this.handleOnlineStatus);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          src = _this$props2.src,\n          placeholder = _this$props2.placeholder,\n          srcSetData = _this$props2.srcSetData; // We only invalidate the current image if the src has changed.\n\n      if (src !== prevProps.src) {\n        this.setState({\n          image: placeholder,\n          loading: true\n        }, function () {\n          _this2.loadImage(src, srcSetData);\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n\n      if (this.image) {\n        this.image.onload = null;\n        this.image.onerror = null;\n      }\n\n      if (this.timeout) {\n        window.clearTimeout(this.timeout);\n      }\n\n      window.removeEventListener('online', this.handleOnlineStatus);\n      window.removeEventListener('offline', this.handleOnlineStatus); // this.clearEventListeners();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var options = {\n        onChange: function onChange(event, unobserve) {\n          return _this3.handleIntersection(event, unobserve, _this3.state.isOnline);\n        },\n        rootMargin: this.props.rootMargin || '0% 0% 25%',\n        threshold: this.props.threshold || [0],\n        disabled: this.props.noLazyLoad || false\n      };\n      var _this$state = this.state,\n          image = _this$state.image,\n          loading = _this$state.loading,\n          srcSetData = _this$state.srcSetData;\n      var _this$props3 = this.props,\n          src = _this$props3.src,\n          children = _this$props3.children,\n          noRetry = _this$props3.noRetry,\n          noLazyLoad = _this$props3.noLazyLoad;\n\n      if (!children || typeof children !== 'function') {\n        throw new Error(\"ProgressiveImage requires a function as its only child\");\n      }\n\n      if (noLazyLoad) {\n        return children(src, false, this.props.srcSetData);\n      }\n\n      return React.createElement(_reactIntersectionObserver[\"default\"], options, children(image, loading, srcSetData));\n    }\n  }]);\n\n  return ProgressiveImage;\n}(React.Component);\n\nexports[\"default\"] = ProgressiveImage;","map":{"version":3,"sources":["/Users/jordengerovac/Desktop/Programming/ChromeExtensionProjects/redux-tabsolute/node_modules/react-progressive-graceful-image/dist.js"],"names":["Object","defineProperty","exports","value","React","_interopRequireWildcard","require","_reactIntersectionObserver","_interopRequireDefault","obj","__esModule","_getRequireWildcardCache","WeakMap","cache","_typeof","has","get","newObj","hasPropertyDescriptor","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","Symbol","iterator","constructor","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","_setPrototypeOf","p","_defineProperty","hasWindow","window","ProgressiveImage","_React$Component","_this","setState","isOnline","navigator","onLine","src","srcSetData","image","onload","onerror","Image","onLoad","onError","srcset","srcSet","sizes","delay","setImageWithDelay","setImage","setTimeout","_isMounted","loading","removeEventListener","handleOnlineStatus","errorEvent","event","unobserve","isIntersecting","_this$props","loadImage","state","placeholder","componentDidMount","addEventListener","componentDidUpdate","prevProps","_this2","_this$props2","componentWillUnmount","timeout","clearTimeout","render","_this3","options","onChange","handleIntersection","rootMargin","threshold","disabled","noLazyLoad","_this$state","_this$props3","children","noRetry","Error","createElement","Component"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _reactIntersectionObserver = _interopRequireDefault(require(\"@researchgate/react-intersection-observer\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction _getRequireWildcardCache() { if (typeof WeakMap !== \"function\") return null; var cache = new WeakMap(); _getRequireWildcardCache = function _getRequireWildcardCache() { return cache; }; return cache; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar hasWindow = function hasWindow() {\n  return typeof window !== 'undefined';\n};\n\nvar ProgressiveImage =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ProgressiveImage, _React$Component);\n\n  function ProgressiveImage(props) {\n    var _this;\n\n    _classCallCheck(this, ProgressiveImage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ProgressiveImage).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"image\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"handleOnlineStatus\", function () {\n      _this.setState({\n        isOnline: window.navigator.onLine\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"loadImage\", function (src, srcSetData) {\n      // If there is already an image we nullify the onload\n      // and onerror props so it does not incorrectly set state\n      // when it resolves\n      if (_this.image) {\n        _this.image.onload = null;\n        _this.image.onerror = null;\n      }\n\n      var image = new Image();\n      _this.image = image;\n      image.onload = _this.onLoad;\n\n      image.onerror = function () {\n        _this.onError;\n        return; // this.handleImageRetries(image);\n      };\n\n      image.src = src;\n\n      if (srcSetData) {\n        image.srcset = srcSetData.srcSet;\n        image.sizes = srcSetData.sizes;\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onLoad\", function () {\n      // use this.image.src instead of this.props.src to\n      // avoid the possibility of props being updated and the\n      // new image loading before the new props are available as\n      // this.props.\n      if (_this.props.delay) {\n        _this.setImageWithDelay();\n      } else {\n        _this.setImage();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setImageWithDelay\", function () {\n      setTimeout(function () {\n        _this.setImage();\n      }, _this.props.delay);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"setImage\", function () {\n      if (_this._isMounted) {\n        _this.setState({\n          image: _this.image.src,\n          loading: false,\n          srcSetData: {\n            srcSet: _this.image.srcset || '',\n            sizes: _this.image.sizes || ''\n          }\n        }, function () {\n          window.removeEventListener('online', _this.handleOnlineStatus);\n          window.removeEventListener('offline', _this.handleOnlineStatus);\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onError\", function (errorEvent) {\n      var onError = _this.props.onError;\n\n      if (onError) {\n        onError(errorEvent);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleIntersection\", function (event, unobserve, isOnline) {\n      if (event.isIntersecting) {\n        var _this$props = _this.props,\n            src = _this$props.src,\n            srcSetData = _this$props.srcSetData;\n\n        if (isOnline) {\n          _this.loadImage(src, srcSetData);\n\n          unobserve();\n        }\n      }\n    });\n\n    _this._isMounted = false;\n    _this.state = {\n      isOnline: hasWindow() ? window.navigator.onLine : true,\n      image: props.placeholder,\n      loading: true,\n      srcSetData: {\n        srcSet: '',\n        sizes: ''\n      }\n    };\n    return _this;\n  }\n\n  _createClass(ProgressiveImage, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this._isMounted = true;\n\n      if (!hasWindow()) {\n        return;\n      }\n\n      window.addEventListener('online', this.handleOnlineStatus);\n      window.addEventListener('offline', this.handleOnlineStatus);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          src = _this$props2.src,\n          placeholder = _this$props2.placeholder,\n          srcSetData = _this$props2.srcSetData; // We only invalidate the current image if the src has changed.\n\n      if (src !== prevProps.src) {\n        this.setState({\n          image: placeholder,\n          loading: true\n        }, function () {\n          _this2.loadImage(src, srcSetData);\n        });\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n\n      if (this.image) {\n        this.image.onload = null;\n        this.image.onerror = null;\n      }\n\n      if (this.timeout) {\n        window.clearTimeout(this.timeout);\n      }\n\n      window.removeEventListener('online', this.handleOnlineStatus);\n      window.removeEventListener('offline', this.handleOnlineStatus); // this.clearEventListeners();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var options = {\n        onChange: function onChange(event, unobserve) {\n          return _this3.handleIntersection(event, unobserve, _this3.state.isOnline);\n        },\n        rootMargin: this.props.rootMargin || '0% 0% 25%',\n        threshold: this.props.threshold || [0],\n        disabled: this.props.noLazyLoad || false\n      };\n      var _this$state = this.state,\n          image = _this$state.image,\n          loading = _this$state.loading,\n          srcSetData = _this$state.srcSetData;\n      var _this$props3 = this.props,\n          src = _this$props3.src,\n          children = _this$props3.children,\n          noRetry = _this$props3.noRetry,\n          noLazyLoad = _this$props3.noLazyLoad;\n\n      if (!children || typeof children !== 'function') {\n        throw new Error(\"ProgressiveImage requires a function as its only child\");\n      }\n\n      if (noLazyLoad) {\n        return children(src, false, this.props.srcSetData);\n      }\n\n      return React.createElement(_reactIntersectionObserver[\"default\"], options, children(image, loading, srcSetData));\n    }\n  }]);\n\n  return ProgressiveImage;\n}(React.Component);\n\nexports[\"default\"] = ProgressiveImage;\n"]},"metadata":{},"sourceType":"script"}