{"ast":null,"code":"import _toConsumableArray from\"/Users/jordengerovac/Desktop/Programming/ChromeExtensionProjects/tabsolute-react-extension/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/jordengerovac/Desktop/Programming/ChromeExtensionProjects/tabsolute-react-extension/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jordengerovac/Desktop/Programming/ChromeExtensionProjects/tabsolute-react-extension/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jordengerovac/Desktop/Programming/ChromeExtensionProjects/tabsolute-react-extension/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jordengerovac/Desktop/Programming/ChromeExtensionProjects/tabsolute-react-extension/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import'./App.css';import React from'react';import SettingsBar from'./components/SettingsBar';import WeatherStatus from'./components/WeatherStatus';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);_this=_super.call(this);_this.toggleSettings=function(){_this.setState({settingsVisible:!_this.state.settingsVisible});};_this.handleNameChange=function(event){_this.setState({name:event.target.value});localStorage.setItem(\"name\",event.target.value);};_this.addNewWidget=function(event){var newWidget={type:event.target.value};_this.setState({widgets:[].concat(_toConsumableArray(_this.state.widgets),[newWidget])});};_this.getRandomQuote=function(){fetch('https://type.fit/api/quotes').then(function(res){return res.json();}).then(function(result){var random_num=Math.floor(Math.random()*result.length);_this.setState({quoteText:result[random_num].text,quoteAuthor:result[random_num].author});});};_this.getWeatherStatus=function(city){var WEATHER_API_KEY=\"\".concat(process.env.REACT_APP_WEATHER_API_KEY);fetch('https://api.openweathermap.org/data/2.5/weather?q='+city+'&units=metric&appid='+WEATHER_API_KEY).then(function(res){return res.json();}).then(function(result){if(result.hasOwnProperty(\"main\")){_this.setState({temp:result.main.temp,feelsLike:result.main.feels_like,clouds:result.weather[0].description});}},function(error){console.log(\"error\");});};_this.handleCityChange=function(event){if(event.key===\"Enter\"){_this.setState({city:event.target.value});_this.getWeatherStatus(event.target.value);}};_this.tick=function(){_this.setState({time:new Date()});if(_this.state.time.getMinutes()%5===0&&_this.state.time.getSeconds()===0){localStorage.setItem(\"refresh\",\"true\");}};_this.counter=function(){//const parsedCount = Number(localStorage.getItem(\"count\") || 0);\n_this.setState({count:_this.state.count+1});localStorage.setItem(\"count\",_this.state.count+1);};_this.state={count:0,photo:\"\",time:new Date(),refresh:\"false\",settingsVisible:false,city:\"toronto\",name:\"\",feelsLike:\"\",temp:\"\",clouds:\"\",quoteText:\"\",quoteAuthor:\"\",widgets:[{type:\"greeting\",value:\"\"},{type:\"time\",value:\"\"},{type:\"quote\",value:\"\"}]};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var UNSPLASH_API_KEY=\"\".concat(process.env.REACT_APP_UNSPLASH_API_KEY);var parsedCount=Number(localStorage.getItem(\"count\")||0);var getPhoto=String(localStorage.getItem(\"photo\")||\"\");var getRefresh=String(localStorage.getItem(\"refresh\")||\"false\");var getName=String(localStorage.getItem(\"name\")||\"\");this.setState({count:parsedCount,photo:getPhoto,name:getName});// GET photo\nif(getPhoto===\"\"||getRefresh===\"true\"){fetch(\"https://api.unsplash.com/collections/764604/photos/?orientation=landscape&per_page=100&client_id=\"+UNSPLASH_API_KEY).then(function(res){return res.json();}).then(function(result){var random_num=Math.floor(Math.random()*result.length);_this2.setState({photo:result[random_num].urls.regular});localStorage.setItem(\"photo\",result[random_num].urls.regular);localStorage.setItem(\"refresh\",\"false\");},// Note: it's important to handle errors here\n// instead of a catch() block so that we don't swallow\n// exceptions from actual bugs in components.\nfunction(error){console.log(\"error\");});}// GET weather data\nthis.getWeatherStatus(this.state.city);// GET random quote\nthis.getRandomQuote();setInterval(function(){_this2.tick();},1000);}},{key:\"render\",value:function render(){var _this3=this;var greeting=\"\";var ampm=this.state.time.getHours()>=12?'PM':'AM';if(this.state.time.getHours()>=21){greeting=\"night\";}else if(this.state.time.getHours()>=18){greeting=\"evening\";}else if(this.state.time.getHours()>=12){greeting=\"afternoon\";}else{greeting=\"morning\";}return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundImage:'url('+this.state.photo+')',width:'100vw',height:'100vh',backgroundSize:'cover',margin:'0',padding:'0',backgroundRepeat:'no-repeat'},children:[/*#__PURE__*/_jsx(SettingsBar,{settingsVisible:this.state.settingsVisible,toggleSettings:this.toggleSettings,handleNameChange:this.handleNameChange,name:this.state.name,city:this.state.city,handleCityChange:this.handleCityChange,addNewWidget:this.addNewWidget}),/*#__PURE__*/_jsxs(\"div\",{className:\"settings\",children:[/*#__PURE__*/_jsx(\"i\",{style:{color:'white',fontSize:'22px',margin:'7px'},className:\"fas fa-cog\",onClick:this.toggleSettings}),/*#__PURE__*/_jsx(WeatherStatus,{city:this.state.city,feelsLike:this.state.feelsLike,temp:this.state.temp,clouds:this.state.clouds})]}),/*#__PURE__*/_jsx(\"div\",{className:\"centered\",style:{textAlign:'center'},children:this.state.widgets.map(function(widget){if(widget.type===\"greeting\")return/*#__PURE__*/_jsxs(\"h3\",{style:{margin:'0',color:'white'},children:[\"Good \",greeting,\", \",_this3.state.name]});else if(widget.type===\"quote\"){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{style:{color:'white'},children:_this3.state.quoteText}),/*#__PURE__*/_jsxs(\"h4\",{style:{color:'white'},children:[\"- \",_this3.state.quoteAuthor]})]});}else if(widget.type===\"time\"){return/*#__PURE__*/_jsxs(\"h1\",{style:{margin:'0',color:'white'},children:[_this3.state.time.toLocaleTimeString().split(\":\")[0],\":\",_this3.state.time.toLocaleTimeString().split(\":\")[1],\" \",ampm]});}})})]});}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/jordengerovac/Desktop/Programming/ChromeExtensionProjects/tabsolute-react-extension/src/App.js"],"names":["React","SettingsBar","WeatherStatus","App","toggleSettings","setState","settingsVisible","state","handleNameChange","event","name","target","value","localStorage","setItem","addNewWidget","newWidget","type","widgets","getRandomQuote","fetch","then","res","json","result","random_num","Math","floor","random","length","quoteText","text","quoteAuthor","author","getWeatherStatus","city","WEATHER_API_KEY","process","env","REACT_APP_WEATHER_API_KEY","hasOwnProperty","temp","main","feelsLike","feels_like","clouds","weather","description","error","console","log","handleCityChange","key","tick","time","Date","getMinutes","getSeconds","counter","count","photo","refresh","UNSPLASH_API_KEY","REACT_APP_UNSPLASH_API_KEY","parsedCount","Number","getItem","getPhoto","String","getRefresh","getName","urls","regular","setInterval","greeting","ampm","getHours","backgroundImage","width","height","backgroundSize","margin","padding","backgroundRepeat","color","fontSize","textAlign","map","widget","toLocaleTimeString","split","Component"],"mappings":"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","sourcesContent":["import './App.css';\nimport React from 'react';\nimport SettingsBar from './components/SettingsBar';\nimport WeatherStatus from './components/WeatherStatus';\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {      \n      count: 0,\n      photo: \"\",\n      time: new Date(),\n      refresh: \"false\",\n      settingsVisible: false,\n      city: \"toronto\",\n      name: \"\",\n      feelsLike: \"\",\n      temp: \"\",\n      clouds: \"\",\n      quoteText: \"\",\n      quoteAuthor: \"\",\n      widgets: [\n        {\n          type: \"greeting\",\n          value: \"\", \n        },\n        {\n          type: \"time\",\n          value: \"\",\n        },\n        {\n          type: \"quote\",\n          value: \"\"\n        }\n      ]\n    };\n  }\n\n  toggleSettings = () => {\n    this.setState({\n      settingsVisible: !this.state.settingsVisible\n    })\n  }\n\n  handleNameChange = (event) => {\n    this.setState({\n      name: event.target.value\n    });\n    localStorage.setItem(\"name\", event.target.value);\n  }\n\n  addNewWidget = (event) => {\n    const newWidget = {\n      type: event.target.value\n    }\n    this.setState({\n      widgets: [...this.state.widgets, newWidget]\n    })\n  }\n\n  getRandomQuote = () => {\n    fetch('https://type.fit/api/quotes')\n      .then(res => res.json())\n      .then(\n      (result) => {\n        var random_num = Math.floor(Math.random() * result.length);\n        this.setState({\n          quoteText: result[random_num].text,\n          quoteAuthor: result[random_num].author\n        })\n      }\n      )\n  }\n\n  getWeatherStatus = (city) => {\n    const WEATHER_API_KEY = `${process.env.REACT_APP_WEATHER_API_KEY}`\n    fetch('https://api.openweathermap.org/data/2.5/weather?q=' + city + '&units=metric&appid=' + WEATHER_API_KEY)\n      .then(res => res.json())\n      .then(\n      (result) => {\n        if (result.hasOwnProperty(\"main\")) {\n          this.setState({\n            temp: result.main.temp,\n            feelsLike: result.main.feels_like,\n            clouds: result.weather[0].description\n          });\n        }\n      },\n      (error) => {\n          console.log(\"error\")\n      }\n    )\n}\n\n  handleCityChange = (event) => {\n    if (event.key === \"Enter\") {\n      this.setState({\n        city: event.target.value\n      });\n      this.getWeatherStatus(event.target.value);\n    }\n  }\n\n  tick = () => {\n    this.setState({\n      time: new Date()\n    });\n    if (this.state.time.getMinutes() % 5 === 0 && this.state.time.getSeconds() === 0) {\n      localStorage.setItem(\"refresh\", \"true\");\n    }\n  }\n\n  counter = () => {\n      //const parsedCount = Number(localStorage.getItem(\"count\") || 0);\n      this.setState({count: this.state.count + 1});\n      localStorage.setItem(\"count\", this.state.count + 1);\n  }\n\n  componentDidMount() {\n    const UNSPLASH_API_KEY = `${process.env.REACT_APP_UNSPLASH_API_KEY}`;\n    const parsedCount = Number(localStorage.getItem(\"count\") || 0);\n    const getPhoto = String(localStorage.getItem(\"photo\") || \"\");\n    const getRefresh = String(localStorage.getItem(\"refresh\") || \"false\");\n    const getName = String(localStorage.getItem(\"name\") || \"\");\n\n    this.setState({\n      count: parsedCount,\n      photo: getPhoto,\n      name: getName\n    })\n\n    // GET photo\n    if (getPhoto === \"\" || getRefresh === \"true\") {\n      fetch(\"https://api.unsplash.com/collections/764604/photos/?orientation=landscape&per_page=100&client_id=\" + UNSPLASH_API_KEY)\n        .then(res => res.json())\n        .then(\n          (result) => {\n            var random_num = Math.floor(Math.random() * result.length);\n            this.setState({\n              photo: result[random_num].urls.regular\n            });\n            localStorage.setItem(\"photo\", result[random_num].urls.regular);\n            localStorage.setItem(\"refresh\", \"false\");\n          },\n          // Note: it's important to handle errors here\n          // instead of a catch() block so that we don't swallow\n          // exceptions from actual bugs in components.\n          (error) => {\n            console.log(\"error\")\n          }\n        )\n    }\n\n    // GET weather data\n    this.getWeatherStatus(this.state.city);\n\n    // GET random quote\n    this.getRandomQuote();\n\n    setInterval(() => {\n      this.tick();\n    }, 1000);\n  }\n\n  render(){\n    var greeting = \"\";\n    var ampm = this.state.time.getHours() >= 12 ? 'PM' : 'AM';\n    if (this.state.time.getHours() >= 21) {\n      greeting = \"night\";\n    }\n    else if (this.state.time.getHours() >= 18) {\n      greeting = \"evening\";\n    }\n    else if (this.state.time.getHours() >= 12) {\n      greeting = \"afternoon\"\n    }\n    else {\n      greeting = \"morning\"\n    }\n\n    return (\n      <div style={{backgroundImage: 'url(' + this.state.photo + ')', width: '100vw', height: '100vh', backgroundSize: 'cover', margin: '0', padding: '0', backgroundRepeat: 'no-repeat'}}>\n        <SettingsBar settingsVisible={this.state.settingsVisible} toggleSettings={this.toggleSettings} handleNameChange={this.handleNameChange} name={this.state.name} city={this.state.city} handleCityChange={this.handleCityChange} addNewWidget={this.addNewWidget}/>\n        <div className=\"settings\">\n          <i style={{color: 'white', fontSize: '22px', margin: '7px'}} className=\"fas fa-cog\" onClick={this.toggleSettings}></i>\n          <WeatherStatus city={this.state.city} feelsLike={this.state.feelsLike} temp={this.state.temp} clouds={this.state.clouds} />\n        </div>\n          <div className=\"centered\" style={{textAlign: 'center'}}>\n          {this.state.widgets.map((widget) => \n            {if (widget.type === \"greeting\") \n              return (<h3 style={{margin: '0', color: 'white'}}>Good {greeting}, {this.state.name}</h3>)\n             else if (widget.type === \"quote\") {\n               return (<div><h4 style={{color: 'white'}}>{this.state.quoteText}</h4><h4 style={{color: 'white'}}>- {this.state.quoteAuthor}</h4></div>)\n             }\n             else if (widget.type === \"time\") {\n               return (<h1 style={{margin: '0', color: 'white'}}>{this.state.time.toLocaleTimeString().split(\":\")[0]}:{this.state.time.toLocaleTimeString().split(\":\")[1]} {ampm}</h1>)\n             }\n            }\n          )}\n          </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}