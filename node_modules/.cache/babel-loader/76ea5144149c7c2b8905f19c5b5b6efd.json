{"ast":null,"code":"import{FETCH_PHOTO,TOGGLE_PHOTO,SET_DEFAULT_PHOTO}from'./types';var last_random_num=-1;export var fetchPhoto=function fetchPhoto(){return function(dispatch){var UNSPLASH_API_KEY=\"\".concat(process.env.REACT_APP_UNSPLASH_API_KEY);var random_page_num=Math.floor(Math.random()*100);while(random_page_num===last_random_num){random_page_num=Math.floor(Math.random()*100);console.log('recalculating');}last_random_num=random_page_num;console.log(random_page_num);console.log(last_random_num);fetch(\"https://api.unsplash.com/collections/19428159/photos/?page= \"+random_page_num+\"&per_page=1&client_id=\"+UNSPLASH_API_KEY).then(function(res){return res.json();}).then(function(result){var photo=result[0];dispatch({type:FETCH_PHOTO,payload:photo});}).catch(function(error){console.log(error);});};};export var togglePhoto=function togglePhoto(event){return function(dispatch){dispatch({type:TOGGLE_PHOTO,payload:event});};};export var setDefaultPhoto=function setDefaultPhoto(){return function(dispatch){dispatch({type:SET_DEFAULT_PHOTO});};};","map":{"version":3,"sources":["/Users/jordengerovac/Desktop/Programming/ChromeExtensionProjects/redux-tabsolute/src/actions/photoActions.js"],"names":["FETCH_PHOTO","TOGGLE_PHOTO","SET_DEFAULT_PHOTO","last_random_num","fetchPhoto","dispatch","UNSPLASH_API_KEY","process","env","REACT_APP_UNSPLASH_API_KEY","random_page_num","Math","floor","random","console","log","fetch","then","res","json","result","photo","type","payload","catch","error","togglePhoto","event","setDefaultPhoto"],"mappings":"AAAA,OAASA,WAAT,CAAsBC,YAAtB,CAAoCC,iBAApC,KAA6D,SAA7D,CAEA,GAAIC,CAAAA,eAAe,CAAG,CAAC,CAAvB,CACA,MAAO,IAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,SAAM,UAAAC,QAAQ,CAAI,CAC1C,GAAMC,CAAAA,gBAAgB,WAAMC,OAAO,CAACC,GAAR,CAAYC,0BAAlB,CAAtB,CACA,GAAIC,CAAAA,eAAe,CAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgB,GAA3B,CAAtB,CACA,MAAOH,eAAe,GAAKP,eAA3B,CAA4C,CAC1CO,eAAe,CAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgB,GAA3B,CAAlB,CACAC,OAAO,CAACC,GAAR,CAAY,eAAZ,EACD,CACDZ,eAAe,CAAGO,eAAlB,CACAI,OAAO,CAACC,GAAR,CAAYL,eAAZ,EACAI,OAAO,CAACC,GAAR,CAAYZ,eAAZ,EACAa,KAAK,CAAC,+DAAiEN,eAAjE,CAAmF,wBAAnF,CAA8GJ,gBAA/G,CAAL,CACCW,IADD,CACM,SAAAC,GAAG,QAAIA,CAAAA,GAAG,CAACC,IAAJ,EAAJ,EADT,EAECF,IAFD,CAGE,SAACG,MAAD,CAAY,CACV,GAAIC,CAAAA,KAAK,CAAGD,MAAM,CAAC,CAAD,CAAlB,CACAf,QAAQ,CAAC,CACPiB,IAAI,CAAEtB,WADC,CAEPuB,OAAO,CAAEF,KAFF,CAAD,CAAR,CAIH,CATD,EAUCG,KAVD,CAUO,SAASC,KAAT,CAAgB,CACrBX,OAAO,CAACC,GAAR,CAAYU,KAAZ,EACD,CAZD,EAaD,CAvByB,EAAnB,CAyBP,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,KAAD,QAAW,UAAAtB,QAAQ,CAAI,CAChDA,QAAQ,CAAC,CACPiB,IAAI,CAAErB,YADC,CAEPsB,OAAO,CAAEI,KAFF,CAAD,CAAR,CAID,CAL0B,EAApB,CAOP,MAAO,IAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,SAAM,UAAAvB,QAAQ,CAAI,CAC/CA,QAAQ,CAAC,CACPiB,IAAI,CAAEpB,iBADC,CAAD,CAAR,CAGD,CAJ8B,EAAxB","sourcesContent":["import { FETCH_PHOTO, TOGGLE_PHOTO, SET_DEFAULT_PHOTO } from './types';\n\nvar last_random_num = -1;\nexport const fetchPhoto = () => dispatch => {\n  const UNSPLASH_API_KEY = `${process.env.REACT_APP_UNSPLASH_API_KEY}`;\n  var random_page_num = Math.floor(Math.random() * 100);\n  while (random_page_num === last_random_num) {\n    random_page_num = Math.floor(Math.random() * 100);\n    console.log('recalculating')\n  }\n  last_random_num = random_page_num;\n  console.log(random_page_num);\n  console.log(last_random_num);\n  fetch(\"https://api.unsplash.com/collections/19428159/photos/?page= \" + random_page_num + \"&per_page=1&client_id=\" + UNSPLASH_API_KEY)\n  .then(res => res.json())\n  .then(\n    (result) => {\n      var photo = result[0];\n      dispatch({\n        type: FETCH_PHOTO,\n        payload: photo\n    });\n  })\n  .catch(function(error) {\n    console.log(error);\n  });\n}\n\nexport const togglePhoto = (event) => dispatch => {\n  dispatch({\n    type: TOGGLE_PHOTO,\n    payload: event\n  })\n}\n\nexport const setDefaultPhoto = () => dispatch => {\n  dispatch({\n    type: SET_DEFAULT_PHOTO\n  })\n}\n"]},"metadata":{},"sourceType":"module"}