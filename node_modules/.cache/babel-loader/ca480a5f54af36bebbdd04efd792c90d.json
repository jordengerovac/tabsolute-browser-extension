{"ast":null,"code":"import _classCallCheck from\"/Users/jordengerovac/Desktop/Programming/BrowserExtensionProjects/redux-tabsolute/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jordengerovac/Desktop/Programming/BrowserExtensionProjects/redux-tabsolute/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jordengerovac/Desktop/Programming/BrowserExtensionProjects/redux-tabsolute/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jordengerovac/Desktop/Programming/BrowserExtensionProjects/redux-tabsolute/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import'../App.css';import React from'react';import store from'../store';import{UPDATE_WEATHER_WIDGET}from'../actions/types';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Weather=/*#__PURE__*/function(_React$Component){_inherits(Weather,_React$Component);var _super=_createSuper(Weather);function Weather(){_classCallCheck(this,Weather);return _super.apply(this,arguments);}_createClass(Weather,[{key:\"componentDidMount\",value:function componentDidMount(){if(this.props.widget.value!==\"\"){if(parseInt(this.props.widget.value.split(\":@:\")[4])!==new Date().getHours()){this.getWeather();}}}},{key:\"getWeather\",value:function getWeather(){var _this=this;var WEATHER_API_KEY=\"\".concat(process.env.REACT_APP_WEATHER_API_KEY);fetch('https://api.openweathermap.org/data/2.5/weather?q='+this.props.widget.value.split(\":@:\")[0]+'&units=metric&appid='+WEATHER_API_KEY).then(function(res){return res.json();}).then(function(result){var city=_this.props.widget.value.split(\":@:\")[0];var temp_min=result.main.temp_min;var temp_max=result.main.temp_max;var clouds=result.weather[0].description;var day=new Date().getHours();var value=city+\":@:\"+temp_min+\":@:\"+temp_max+\":@:\"+clouds+\":@:\"+day;var payload={type:UPDATE_WEATHER_WIDGET,payload:value,id:_this.props.widget.id};store.dispatch(payload);}).catch(function(error){console.log(error);});}},{key:\"render\",value:function render(){var clouds=String(this.props.widget.value.split(\":@:\")[3]);var icon=\"\";if(clouds.includes(\"rain\")){icon=\"fas fa-cloud-rain\";}else if(clouds.includes(\"snow\")){icon=\"fas fa-snowflake\";}else if(clouds.includes(\"clouds\")){icon=\"fas fa-cloud\";}else if(clouds.includes(\"clear\")){icon=\"fas fa-sun\";}else{icon=\"fas fa-smog\";}return/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'right',margin:'7px',fontSize:this.props.widget.display.font+'px'},children:[/*#__PURE__*/_jsx(\"p\",{children:this.props.widget.value.split(\":@:\")[0]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"i\",{className:icon,style:{fontSize:'40px'}}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'flex-end'},children:[/*#__PURE__*/_jsx(\"p\",{style:{margin:'6px'},children:parseInt(this.props.widget.value.split(\":@:\")[1])}),/*#__PURE__*/_jsx(\"p\",{style:{margin:'6px'},children:parseInt(this.props.widget.value.split(\":@:\")[2])})]})]})]});}}]);return Weather;}(React.Component);export default Weather;","map":{"version":3,"sources":["/Users/jordengerovac/Desktop/Programming/BrowserExtensionProjects/redux-tabsolute/src/components/Weather.js"],"names":["React","store","UPDATE_WEATHER_WIDGET","Weather","props","widget","value","parseInt","split","Date","getHours","getWeather","WEATHER_API_KEY","process","env","REACT_APP_WEATHER_API_KEY","fetch","then","res","json","result","city","temp_min","main","temp_max","clouds","weather","description","day","payload","type","id","dispatch","catch","error","console","log","String","icon","includes","textAlign","margin","fontSize","display","font","justifyContent","Component"],"mappings":"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","sourcesContent":["import '../App.css';\nimport React from 'react';\nimport store from '../store';\nimport { UPDATE_WEATHER_WIDGET } from '../actions/types';\n\nclass Weather extends React.Component {\n    componentDidMount() {\n        if (this.props.widget.value !== \"\") {\n            if (parseInt(this.props.widget.value.split(\":@:\")[4]) !== new Date().getHours()) {\n                this.getWeather();\n            }\n        }\n    }\n\n    getWeather() {\n        const WEATHER_API_KEY = `${process.env.REACT_APP_WEATHER_API_KEY}`\n        fetch('https://api.openweathermap.org/data/2.5/weather?q=' + this.props.widget.value.split(\":@:\")[0] + '&units=metric&appid=' + WEATHER_API_KEY)\n        .then(res => res.json())\n        .then(\n        (result) => {\n            var city = this.props.widget.value.split(\":@:\")[0];\n            var temp_min = result.main.temp_min;\n            var temp_max = result.main.temp_max;\n            var clouds = result.weather[0].description;\n            var day = new Date().getHours();\n            var value = city + \":@:\" + temp_min + \":@:\" + temp_max + \":@:\" + clouds + \":@:\" + day;\n            \n            var payload = {\n                type: UPDATE_WEATHER_WIDGET,\n                payload: value,\n                id: this.props.widget.id\n            }\n            store.dispatch(payload);\n        })\n        .catch(function(error) {\n            console.log(error);\n        });\n    }\n\n    render() {\n        var clouds = String(this.props.widget.value.split(\":@:\")[3]);\n        var icon = \"\";\n        if (clouds.includes(\"rain\")) {\n            icon = \"fas fa-cloud-rain\";\n        }\n        else if (clouds.includes(\"snow\")) {\n            icon = \"fas fa-snowflake\";\n        }\n        else if (clouds.includes(\"clouds\")) {\n            icon = \"fas fa-cloud\";\n        }\n        else if (clouds.includes(\"clear\")) {\n            icon = \"fas fa-sun\";\n        }\n        else {\n            icon = \"fas fa-smog\";\n        }\n        return(\n            <div style={{textAlign: 'right', margin: '7px', fontSize: this.props.widget.display.font + 'px'}}>\n                <p>{this.props.widget.value.split(\":@:\")[0]}</p>\n                <div>\n                    <i className={icon}  style={{fontSize: '40px'}}></i>\n                    <div style={{display: 'flex', justifyContent: 'flex-end'}}>\n                        <p style={{margin: '6px'}}>{parseInt(this.props.widget.value.split(\":@:\")[1])}</p>\n                        <p style={{margin: '6px'}}>{parseInt(this.props.widget.value.split(\":@:\")[2])}</p>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\n\nexport default Weather;"]},"metadata":{},"sourceType":"module"}