{"ast":null,"code":"import _classCallCheck from\"/Users/jordengerovac/Desktop/Programming/BrowserExtensionProjects/redux-tabsolute/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jordengerovac/Desktop/Programming/BrowserExtensionProjects/redux-tabsolute/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jordengerovac/Desktop/Programming/BrowserExtensionProjects/redux-tabsolute/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jordengerovac/Desktop/Programming/BrowserExtensionProjects/redux-tabsolute/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import'../../App.css';import React from'react';import{deleteWidget,moveWidget}from'../../actions/widgetActions';import{connect}from'react-redux';import store from'../../store';import{UPDATE_WEATHER_WIDGET}from'../../actions/types';import WidgetCustomization from'../customization/WidgetCustomization';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var WeatherWidget=/*#__PURE__*/function(_React$Component){_inherits(WeatherWidget,_React$Component);var _super=_createSuper(WeatherWidget);function WeatherWidget(){var _this;_classCallCheck(this,WeatherWidget);_this=_super.call(this);_this.toggleDisplaySettings=function(){_this.setState({displaySettingsVisible:!_this.state.displaySettingsVisible});};_this.handleChange=function(event){_this.setState({weatherText:event.target.value});};_this.getWeather=function(event){//event.preventDefault();\nif(event.key===\"Enter\"){var WEATHER_API_KEY=\"\".concat(process.env.REACT_APP_WEATHER_API_KEY);fetch('https://api.openweathermap.org/data/2.5/weather?q='+event.target.value+'&units=metric&appid='+WEATHER_API_KEY).then(function(res){return res.json();}).then(function(result){var city=event.target.value;var temp_min=result.main.temp_min;var temp_max=result.main.temp_max;var clouds=result.weather[0].description;var value=city+\":@:\"+temp_min+\":@:\"+temp_max+\":@:\"+clouds;var payload={type:UPDATE_WEATHER_WIDGET,payload:value,id:_this.props.widget.id};store.dispatch(payload);_this.setState({weatherText:\"\"});}).catch(function(error){console.log(error);});}};_this.state={displaySettingsVisible:false,weatherText:\"\"};return _this;}_createClass(WeatherWidget,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'#2D3339',padding:'10px',margin:'0px 10px 10px 10px',borderRadius:'7px'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'left',margin:'0px 10px 10px 0px'},children:[/*#__PURE__*/_jsx(\"p\",{style:{float:'left',color:'white',fontWeight:'bolder'},children:this.props.widget.type}),/*#__PURE__*/_jsxs(\"div\",{style:{float:'right'},children:[/*#__PURE__*/_jsx(\"i\",{onClick:this.props.moveWidget,id:this.props.widget.id,style:{color:'lightgrey',cursor:'pointer',margin:'0px 5px 0px 5px'},className:\"fas fa-arrow-up\"}),/*#__PURE__*/_jsx(\"i\",{onClick:this.props.moveWidget,id:this.props.widget.id,style:{color:'lightgrey',cursor:'pointer',margin:'0px 5px 0px 5px'},className:\"fas fa-arrow-down\"}),/*#__PURE__*/_jsx(\"i\",{onClick:this.toggleDisplaySettings,id:this.props.widget.id,style:{color:'lightgrey',cursor:'pointer',margin:'0px 5px 0px 5px'},class:\"fas fa-wrench\"}),/*#__PURE__*/_jsx(\"i\",{style:{color:'lightgrey',cursor:'pointer',margin:'0px 0px 0px 5px'},class:\"fas fa-trash-alt\",onClick:this.props.deleteWidget,id:this.props.widget.id})]})]}),/*#__PURE__*/_jsx(\"input\",{id:this.props.widget.id,type:\"text\",placeholder:this.props.widget.value.split(\":@:\")[0]?this.props.widget.value.split(\":@:\")[0]:\"City\",value:this.state.weatherText,onKeyPress:this.getWeather,style:{marginTop:'10px'},onChange:this.handleChange}),this.state.displaySettingsVisible?/*#__PURE__*/_jsx(WidgetCustomization,{widget:this.props.widget}):null]});}}]);return WeatherWidget;}(React.Component);function mapStateToProps(state,ownProps){return{widgetDetails:state.widgetDetails};}export default connect(mapStateToProps,{deleteWidget:deleteWidget,moveWidget:moveWidget})(WeatherWidget);","map":{"version":3,"sources":["/Users/jordengerovac/Desktop/Programming/BrowserExtensionProjects/redux-tabsolute/src/components/widgets/WeatherWidget.js"],"names":["React","deleteWidget","moveWidget","connect","store","UPDATE_WEATHER_WIDGET","WidgetCustomization","WeatherWidget","toggleDisplaySettings","setState","displaySettingsVisible","state","handleChange","event","weatherText","target","value","getWeather","key","WEATHER_API_KEY","process","env","REACT_APP_WEATHER_API_KEY","fetch","then","res","json","result","city","temp_min","main","temp_max","clouds","weather","description","payload","type","id","props","widget","dispatch","catch","error","console","log","backgroundColor","padding","margin","borderRadius","textAlign","float","color","fontWeight","cursor","split","marginTop","Component","mapStateToProps","ownProps","widgetDetails"],"mappings":"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","sourcesContent":["import '../../App.css';\nimport React from 'react';\nimport { deleteWidget, moveWidget } from '../../actions/widgetActions';\nimport { connect } from 'react-redux';\nimport store from '../../store';\nimport { UPDATE_WEATHER_WIDGET } from '../../actions/types';\nimport WidgetCustomization from '../customization/WidgetCustomization';\n\nclass WeatherWidget extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            displaySettingsVisible: false,\n            weatherText: \"\"\n        }\n    }\n\n    toggleDisplaySettings = () => {\n        this.setState({\n            displaySettingsVisible: !this.state.displaySettingsVisible\n        })\n    }\n\n    handleChange = (event) => {\n        this.setState({\n            weatherText: event.target.value\n        })\n    }\n\n    getWeather = (event) => {\n        //event.preventDefault();\n        if (event.key === \"Enter\") {\n            const WEATHER_API_KEY = `${process.env.REACT_APP_WEATHER_API_KEY}`\n            fetch('https://api.openweathermap.org/data/2.5/weather?q=' + event.target.value + '&units=metric&appid=' + WEATHER_API_KEY)\n            .then(res => res.json())\n            .then(\n            (result) => {\n                var city = event.target.value;\n                var temp_min = result.main.temp_min;\n                var temp_max = result.main.temp_max;\n                var clouds = result.weather[0].description;\n                var value = city + \":@:\" + temp_min + \":@:\" + temp_max + \":@:\" + clouds;\n                \n                var payload = {\n                    type: UPDATE_WEATHER_WIDGET,\n                    payload: value,\n                    id: this.props.widget.id\n                }\n                store.dispatch(payload);\n                this.setState({\n                    weatherText: \"\"\n                })\n            })\n            .catch(function(error) {\n                console.log(error);\n            });\n        }\n    }\n\n    render() {\n        return(\n            <div style={{backgroundColor: '#2D3339', padding: '10px', margin: '0px 10px 10px 10px', borderRadius: '7px'}}>\n                <div style={{textAlign: 'left', margin: '0px 10px 10px 0px'}}>\n                    <p style={{float: 'left', color: 'white', fontWeight: 'bolder'}}>{this.props.widget.type}</p>\n                    <div style={{float: 'right'}}>\n                        <i onClick={this.props.moveWidget} id={this.props.widget.id} style={{color: 'lightgrey', cursor: 'pointer', margin: '0px 5px 0px 5px'}} className=\"fas fa-arrow-up\"></i>\n                        <i onClick={this.props.moveWidget} id={this.props.widget.id} style={{color: 'lightgrey', cursor: 'pointer', margin: '0px 5px 0px 5px'}} className=\"fas fa-arrow-down\"></i>\n                        <i onClick={this.toggleDisplaySettings} id={this.props.widget.id} style={{color: 'lightgrey', cursor: 'pointer', margin: '0px 5px 0px 5px'}} class=\"fas fa-wrench\"></i>\n                        <i style={{color: 'lightgrey', cursor: 'pointer', margin: '0px 0px 0px 5px'}} class=\"fas fa-trash-alt\" onClick={this.props.deleteWidget} id={this.props.widget.id}></i>\n                    </div>\n                </div>\n                <input id={this.props.widget.id} type=\"text\" placeholder={this.props.widget.value.split(\":@:\")[0] ? this.props.widget.value.split(\":@:\")[0] : \"City\"} value={this.state.weatherText} onKeyPress={this.getWeather} style={{marginTop: '10px'}} onChange={this.handleChange}></input>\n                {this.state.displaySettingsVisible ? <WidgetCustomization widget={this.props.widget} /> : null}\n            </div>\n        )\n    }\n}\n\nfunction mapStateToProps(state, ownProps) {\n    return {\n      widgetDetails: state.widgetDetails\n    }\n}\n\nexport default connect(mapStateToProps, { deleteWidget, moveWidget })(WeatherWidget);"]},"metadata":{},"sourceType":"module"}